<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>幻影工厂</title><script defer="defer">/*! For license information please see main.3a7f9c4b688aa63dcd49.js.LICENSE.txt */
(()=>{"use strict";var e={431:(e,t,n)=>{n.d(t,{A:()=>i});var A=n(601),r=n.n(A),a=n(314),o=n.n(a)()(r());o.push([e.id,':root {\n    --secondary-background-color: #fff;\n    --background-color: #ececec;\n    --secondary-notselected-background-color: #f6f6f6;\n    --element-backgound-color: #f6f6f6;\n    --front-color: #000;\n    --front-secondary-color: #666;\n    --element-border-color: #b8b8b8;\n    --link-color: #2285d5;\n\n    --large-font-size: 1.2rem;\n    --medium-font-size: 0.9rem;\n    --small-font-size: 0.7rem;\n}\n\n[data-theme="light"] {\n    --secondary-background-color: #fff;\n    --background-color: #ececec;\n    --secondary-notselected-background-color: #f6f6f6;\n    --element-backgound-color: #eaeaea;\n    --front-color: #000;\n    --front-secondary-color: #666;\n    --element-border-color: #b8b8b8;\n    --link-color: #2285d5;\n}\n\n[data-theme="dark"] {\n    --secondary-background-color: #000;\n    --background-color: #191919;\n    --secondary-notselected-background-color: #101010;\n    --element-backgound-color: #444;\n    --front-color: #dfdfdf;\n    --front-secondary-color: #999;\n    --element-border-color: #555;\n    --link-color: #4baeff;\n}\n\n/**************************************/\n\n* {\n    transition: background-color 0.3s ease-in-out, color 0.1s ease-in-out;\n    user-select: none;\n    box-sizing: content-box;\n}\n\n.inputReact {\n    background-color: var(--element-backgound-color);\n    color: var(--front-color);\n    padding: 5px;\n    border: 1px solid var(--element-border-color);\n    border-radius: 5px;\n    font-size: var(--medium-font-size);\n}\n\ninput[type=file] {\n    display: none;\n}\n\ninput[type=number] {\n    width: 50px;\n}\n\nCanvas {\n    border: 1px solid var(--element-border-color);\n}\n\nhr {\n    border: 0;\n    border-top: 1px solid var(--element-border-color);\n}\n\n/**************************************/\n\n.displayFlexColumn {\n    display: flex;\n    flex-direction: column;\n    justify-items: center;\n    align-items: center;\n}\n\n.displayFlexRow {\n    display: flex;\n    flex-direction: row;\n    justify-items: center;\n    align-items: center;\n}\n\n/**************************************/\n\n.marginTopHigh {\n    margin-top: 20px;\n}\n\n.marginTopMedium {\n    margin-top: 10px;\n}\n\n.marginTopLow {\n    margin-top: 5px;\n}\n\n.marginLeftLow {\n    margin-left: 5px;\n}\n\n.marginRightLow {\n    margin-right: 5px;\n}\n\n.marginBottomMedium {\n    margin-bottom: 10px;\n}\n\n.marginBottomHigh {\n    margin-bottom: 20px;\n}\n\n.marginBottomExtreme {\n    margin-bottom: 40px;\n}\n\n/**************************************/\n\n.justifyCenter {\n    justify-content: center;\n}\n\n.justifySpaceBetween {\n    justify-content: space-between;\n}\n\n.gapLow {\n    gap: 5px;\n}\n\n.alignCenter {\n    align-items: center;\n}\n\n.flexColumn {\n    flex-direction: column;\n}\n\n.flexRow {\n    flex-direction: row;\n}\n\n.positionRelative {\n    position: relative;\n}\n\n.textAlignCenter {\n    text-align: center;\n}\n\n/**************************************/\n\n.paddingLow {\n    padding: 5px;\n}\n\n.paddingMedium {\n    padding: 10px;\n}\n\n.paddingHigh {\n    padding: 15px;\n}\n\n.displayNone {\n    display: none;\n}\n\n.displayBlock {\n    display: block;\n}\n\n.displayFlex {\n    display: flex;\n}\n\n.fontLarge {\n    font-size: var(--large-font-size);\n}\n\n.fontMedium {\n    font-size: var(--medium-font-size);\n}\n\n.fontSmall {\n    font-size: var(--small-font-size);\n}\n\n.textDecorationNone {\n    text-decoration: none;\n}\n\n.textDecorationUnderline {\n    text-decoration: underline;\n}\n\n.borderNone {\n    border: none;\n}\n\n.borderRadiusLow {\n    border-radius: 5px;\n}\n\n.borderRadiusHigh {\n    border-radius: 10px;\n}\n\n.borderRadiusExtreme {\n    border-radius: 20px;\n}\n\n.borderRadiusOnlyTop {\n    border-radius: 10px 10px 0 0;\n}\n\n.borderRadiusOnlyBottom {\n    border-radius: 0 0 15px 15px;\n}\n\n.borderSolidNone {\n    border: 0px, solid;\n}\n\n.borderCollapse {\n    border-collapse: collapse;\n}\n\n.frontColor {\n    color: var(--front-color);\n}\n\n.frontSecondaryColor {\n    color: var(--front-secondary-color);\n}\n\n.frontLinkColor {\n    color: var(--link-color);\n}\n\n.backgroundSecondary {\n    background-color: var(--secondary-background-color);\n}\n\n.backgroundNotSelected {\n    background-color: var(--secondary-notselected-background-color);\n}\n\n.backgroundElement {\n    background-color: var(--element-backgound-color);\n}\n\n.backgroundPrimary {\n    background-color: var(--background-color);\n}\n\n/**************************************/\n\n.transformNone {\n    transform: none;\n}\n\n.transformSize:hover {\n    transform: scale(1.05);\n    transition: transform 0.2s;\n}\n\n.transformSecondary:hover {\n    transform: none;\n    background-color: var(--secondary-background-color);\n}\n\n/**************************************/\n\n.refWidthHigh {\n    width: 90%;\n}\n\n.refWidthFull {\n    width: 100%;\n}\n\n.refWidthHalf {\n    width: 50%;\n}',""]);const i=o},618:(e,t,n)=>{n.d(t,{A:()=>i});var A=n(601),r=n.n(A),a=n(314),o=n.n(a)()(r());o.push([e.id,"#isDarkmodeContainer {\n    position: fixed;\n    left: 10px;\n    bottom: 10px;\n    border: 1px solid var(--element-border-color);\n    box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.1);\n    border-radius: 40px;\n}\n\n.DisplayArea {\n    max-width: 1000px;\n    min-width: 300px;\n}\n\n.title {\n    font-size: clamp(30px, 5vw, 50px);\n    margin-bottom: 10px;\n}\n\n.subTitle {\n    font-size: clamp(20px, 3vw, 30px);\n    margin-top: auto;\n    margin-bottom: 12px;\n}\n\n.RowContainer {\n    width: min(100%, 750px);\n}\n\n#versionRecordTable {\n    max-width: min(100%, 600px);\n}\n\n#versionRecordTable td {\n    padding: 10px;\n}",""]);const i=o},107:(e,t,n)=>{n.d(t,{A:()=>i});var A=n(601),r=n.n(A),a=n(314),o=n.n(a)()(r());o.push([e.id,'.switchContainer {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n}\n\n.switch {\n    position: relative;\n    display: inline-block;\n    width: 40px;\n    height: 22px;\n}\n\n.switch input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n}\n\n.switchSlider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    transition: .4s;\n    border-radius: 22px;\n}\n\n.switchSlider:before {\n    position: absolute;\n    content: "";\n    height: 18px;\n    width: 18px;\n    left: 2px;\n    bottom: 2px;\n    background-color: white;\n    transition: .4s;\n    border-radius: 50%;\n}\n\ninput:checked+.switchSlider {\n    background-color: #002a6e;\n}\n\ninput:checked+.switchSlider:before {\n    transform: translateX(100%);\n}',""]);const i=o},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",A=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),A&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),A&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,A,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(A)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);A&&o[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,A=0;A<t.length;A++)if(t[A].identifier===e){n=A;break}return n}function A(e,A){for(var a={},o=[],i=0;i<e.length;i++){var c=e[i],u=A.base?c[0]+A.base:c[0],l=a[u]||0,s="".concat(u," ").concat(l);a[u]=l+1;var d=n(s),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var v=r(f,A);A.byIndex=i,t.splice(i,0,{identifier:s,updater:v,references:1})}o.push(s)}return o}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=A(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var i=n(a[o]);t[i].references--}for(var c=A(e,r),u=0;u<a.length;u++){var l=n(a[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},659:e=>{var t={};e.exports=function(e,n){var A=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var A="";n.supports&&(A+="@supports (".concat(n.supports,") {")),n.media&&(A+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(A+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),A+=n.css,r&&(A+="}"),n.media&&(A+="}"),n.supports&&(A+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(A+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(A,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(A){var r=t[A];if(void 0!==r)return r.exports;var a=t[A]={id:A,exports:{}};return e[A](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var A in t)n.o(t,A)&&!n.o(e,A)&&Object.defineProperty(e,A,{enumerable:!0,get:t[A]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var A=n(72),r=n.n(A),a=n(825),o=n.n(a),i=n(659),c=n.n(i),u=n(56),l=n.n(u),s=n(540),d=n.n(s),f=n(113),v=n.n(f),h=n(107),p={};p.styleTagTransform=v(),p.setAttributes=l(),p.insert=c().bind(null,"head"),p.domAPI=o(),p.insertStyleElement=d();r()(h.A,p);h.A&&h.A.locals&&h.A.locals;var m=n(431),g={};g.styleTagTransform=v(),g.setAttributes=l(),g.insert=c().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d();r()(m.A,g);m.A&&m.A.locals&&m.A.locals;var y=n(618),_={};_.styleTagTransform=v(),_.setAttributes=l(),_.insert=c().bind(null,"head"),_.domAPI=o(),_.insertStyleElement=d();r()(y.A,_);y.A&&y.A.locals&&y.A.locals;var b={},w={};const x=JSON.parse('{"app_version":"1.0.0","is_colored":true,"scale_i":0.3,"scale_c":0.2,"desat_i":0,"desat_c":0,"weight_i":0.7,"max_size":1200}');function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function I(){I=function(){return t};var e,t={},n=Object.prototype,A=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,A){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),i=new z(A||[]);return r(o,"_invoke",{value:C(e,n,i)}),o}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",v="executing",h="completed",p={};function m(){}function g(){}function y(){}var _={};u(_,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(L([])));w&&w!==n&&A.call(w,o)&&(_=w);var x=y.prototype=m.prototype=Object.create(_);function D(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(r,a,o,i){var c=s(e[r],e,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==P(l)&&A.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,i)}))}i(c.arg)}var a;r(this,"_invoke",{value:function(e,A){function r(){return new t((function(t,r){n(e,A,t,r)}))}return a=a?a.then(r,r):r()}})}function C(t,n,A){var r=d;return function(a,o){if(r===v)throw Error("Generator is already running");if(r===h){if("throw"===a)throw o;return{value:e,done:!0}}for(A.method=a,A.arg=o;;){var i=A.delegate;if(i){var c=E(i,A);if(c){if(c===p)continue;return c}}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if(r===d)throw r=h,A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);r=v;var u=s(t,n,A);if("normal"===u.type){if(r=A.done?h:f,u.arg===p)continue;return{value:u.arg,done:A.done}}"throw"===u.type&&(r=h,A.method="throw",A.arg=u.arg)}}}function E(t,n){var A=n.method,r=t.iterator[A];if(r===e)return n.delegate=null,"throw"===A&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==A&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+A+"' method")),p;var a=s(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(A.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(P(t)+" is not iterable")}return g.prototype=y,r(x,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},D(k.prototype),u(k.prototype,i,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,A,r,a){void 0===a&&(a=Promise);var o=new k(l(e,n,A,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},D(x),u(x,c,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var A in t)n.push(A);return n.reverse(),function e(){for(;n.length;){var A=n.pop();if(A in t)return e.value=A,e.done=!1,e}return e.done=!0,e}},t.values=L,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&A.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(A,r){return i.type="throw",i.arg=t,n.next=A,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=A.call(o,"catchLoc"),u=A.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&A.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var A=n.completion;if("throw"===A.type){var r=A.arg;j(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,A){return this.delegate={iterator:L(t),resultName:n,nextLoc:A},"next"===this.method&&(this.arg=e),p}},t}function D(e,t,n,A,r,a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(A,r)}function k(e,t){for(var n=0;n<t.length;n++){var A=t[n];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(e,S(A.key),A)}}function C(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var A=n.call(e,t||"default");if("object"!=P(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}document.addEventListener("DOMContentLoaded",(function(){var e=[{id:"maxSizeInput",value:x.max_size},{id:"innerScaleRange",value:x.scale_i},{id:"innerScaleInput",value:x.scale_i},{id:"coverScaleRange",value:x.scale_c},{id:"coverScaleInput",value:x.scale_c},{id:"innerDesatRange",value:x.desat_i},{id:"innerDesatInput",value:x.desat_i},{id:"coverDesatRange",value:x.desat_c},{id:"coverDesatInput",value:x.desat_c},{id:"innerWeightRange",value:x.weight_i},{id:"innerWeightInput",value:x.weight_i}];document.getElementById("isColoredCheckbox").checked=x.is_colored,e.forEach((function(e){document.getElementById(e.id).value=e.value}))}));var j=C((function e(t,n,A,r,a,o){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,"updateInnerImg",function(){var e,t=(e=I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i._innerDataCache=null,i._innerImg=t,0!==i._max_size?i._innerImg.width>i._innerImg.height?(i._width=i._max_size,i._height=Math.ceil(i._innerImg.height*i._max_size/i._innerImg.width)):(i._height=i._max_size,i._width=Math.ceil(i._innerImg.width*i._max_size/i._innerImg.height)):(i._width=i._innerImg.width,i._height=i._innerImg.height),i._innerCanvas.width=i._width,i._innerCanvas.height=i._height,(n=i._innerCanvas.getContext("2d")).drawImage(t,0,0,i._width,i._height),i._innerImgData=n.getImageData(0,0,i._width,i._height),i._innerDataGray=i._convertGray(i._innerImgData),i._coverImgData&&i.updateCoverImg(i._coverImg);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(A,r){var a=e.apply(t,n);function o(e){D(a,A,r,o,i,"next",e)}function i(e){D(a,A,r,o,i,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()),E(this,"updateCoverImg",(function(e){if(i._coverDataCache=null,i._coverImg=e,i._innerImg){var t,n,A,r,a=e.width/e.height;a<i._width/i._height?(t=0,n=Math.ceil((i._height-i._width/a)/2),A=i._width,r=Math.ceil(i._width/a)):(t=Math.ceil((i._width-i._height*a)/2),n=0,A=Math.ceil(i._height*a),r=i._height),i._coverCanvas.width=i._width,i._coverCanvas.height=i._height;var o=i._coverCanvas.getContext("2d");o.drawImage(e,t,n,A,r),i._coverImgData=o.getImageData(0,0,i._width,i._height)}else{i._coverCanvas.width=e.width,i._coverCanvas.height=e.height;var c=i._coverCanvas.getContext("2d");c.drawImage(e,0,0),i._coverImgData=c.getImageData(0,0,e.width,e.height)}i._coverDataGray=i._convertGray(i._coverImgData),i._innerImgData&&i._process()})),E(this,"swapImg",(function(){if(i._innerImg||i._coverImg){if(!i._innerImg)return i._clearCanvas(i._coverCanvas),i._coverImgData=null,i.updateInnerImg(i._coverImg),void(i._coverImg=null);if(!i._coverImg)return i._clearCanvas(i._innerCanvas),i._innerImgData=null,i.updateCoverImg(i._innerImg),void(i._innerImg=null);i._coverImgData=null;var e=i._innerImg;i.updateInnerImg(i._coverImg),i.updateCoverImg(e)}})),E(this,"_clearCanvas",(function(e){e.width=e.width})),E(this,"_convertGray",(function(e){for(var t=e.data,n=new Uint8ClampedArray(t.length>>2),A=0;A<t.length;A+=4)n[A>>2]=.299*t[A]+.587*t[A+1]+.114*t[A+2];return n})),E(this,"updateColorMode",(function(e){i._is_colored=e,i._innerDataCache=null,i._coverDataCache=null,i._process()})),E(this,"updateMaxSize",(function(e){i._max_size=e,i._innerImg&&i.updateInnerImg(i._innerImg)})),E(this,"updateInnerScale",(function(e){i._scale_i=e,i._innerDataCache=null,i._process()})),E(this,"updateInnerDesat",(function(e){i._desat_i=e,i._innerDataCache=null,i._process()})),E(this,"updateCoverScale",(function(e){i._scale_c=1-e,i._coverDataCache=null,i._process()})),E(this,"updateCoverDesat",(function(e){i._desat_c=e,i._coverDataCache=null,i._process()})),E(this,"updateInnerWeight",(function(e){i._weight_i=e,i._is_colored&&i._process()})),E(this,"_process",(function(){if(i._innerImgData&&i._coverImgData){if(i._is_colored){var e=!1;if(!i._innerDataCache){var t=i._innerImgData.data;i._innerDataCache=new Uint8ClampedArray(t.length);for(var n=0;n<t.length;n+=4){var A=t[n]*i._scale_i,r=t[n+1]*i._scale_i,a=t[n+2]*i._scale_i,o=i._innerDataGray[n>>2]*i._scale_i;i._innerDataCache[n]=A+(o-A)*i._desat_i,i._innerDataCache[n+1]=r+(o-r)*i._desat_i,i._innerDataCache[n+2]=a+(o-a)*i._desat_i}e=!0}if(!i._coverDataCache){var c=i._coverImgData.data;i._coverDataCache=new Uint8ClampedArray(c.length);for(var u=0;u<c.length;u+=4){var l=255-(255-c[u])*i._scale_c,s=255-(255-c[u+1])*i._scale_c,d=255-(255-c[u+2])*i._scale_c,f=255-(255-i._coverDataGray[u>>2])*i._scale_c;i._coverDataCache[u]=l+(f-l)*i._desat_c,i._coverDataCache[u+1]=s+(f-s)*i._desat_c,i._coverDataCache[u+2]=d+(f-d)*i._desat_c}e=!0}if(!i._alphaCache||e){i._alphaCache=new Float32Array(i._innerDataCache.length>>2);for(var v=0;v<i._innerDataGray.length;v++)i._alphaCache[v]=Math.min(Math.max((255+i._innerDataGray[v]*i._scale_i-(255-(255-i._coverDataGray[v])*i._scale_c))/255,0),1)}i._outputData=new Uint8ClampedArray(i._innerDataCache.length);for(var h=0;h<i._innerDataCache.length;h+=4){var p=i._alphaCache[h>>2],m=255*p;i._outputData[h]=((i._innerDataCache[h]-m+255-i._coverDataCache[h])*i._weight_i+m-255+i._coverDataCache[h])/p,i._outputData[h+1]=((i._innerDataCache[h+1]-m+255-i._coverDataCache[h+1])*i._weight_i+m-255+i._coverDataCache[h+1])/p,i._outputData[h+2]=((i._innerDataCache[h+2]-m+255-i._coverDataCache[h+2])*i._weight_i+m-255+i._coverDataCache[h+2])/p,i._outputData[h+3]=255*p}}else{i._outputData=new Uint8ClampedArray(i._innerDataGray.length<<2);for(var g=0;g<i._innerDataGray.length;g++){var y=i._innerDataGray[g]*i._scale_i,_=255+y-(255-(255-i._coverDataGray[g])*i._scale_c),b=255*y/_;i._outputData[g<<2]=b,i._outputData[1+(g<<2)]=b,i._outputData[2+(g<<2)]=b,i._outputData[3+(g<<2)]=_}}i._showOutput()}})),E(this,"_showOutput",(function(){i._outputCanvas.width=i._width,i._outputCanvas.height=i._height,i._outputCanvas.getContext("2d").putImageData(new ImageData(i._outputData,i._width,i._height),0,0),i._blackCanvas.width=i._width,i._blackCanvas.height=i._height;var e=i._blackCanvas.getContext("2d");e.fillStyle="black",e.fillRect(0,0,i._width,i._height),e.drawImage(i._outputCanvas,0,0),i._whiteCanvas.width=i._width,i._whiteCanvas.height=i._height;var t=i._whiteCanvas.getContext("2d");t.fillStyle="white",t.fillRect(0,0,i._width,i._height),t.drawImage(i._outputCanvas,0,0)})),E(this,"saveResult",(function(){if(i._outputData){var e=document.createElement("a");e.download="result_".concat((new Date).getTime(),".png"),e.href=i._outputCanvas.toDataURL("image/png"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}})),this._scale_i=t.scale_i,this._scale_c=1-t.scale_c,this._weight_i=t.weight_i,this._desat_i=t.desat_i,this._desat_c=t.desat_c,this._is_colored=t.is_colored,this._max_size=t.max_size,this._innerCanvas=n,this._coverCanvas=A,this._outputCanvas=r,this._whiteCanvas=a,this._blackCanvas=o,this._innerImgData=null,this._coverImgData=null,this._innerDataGray=null,this._coverDataGray=null,this._innerDataCache=null,this._coverDataCache=null,this._outputData=null}));function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function L(){L=function(){return t};var e,t={},n=Object.prototype,A=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,A){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),i=new S(A||[]);return r(o,"_invoke",{value:D(e,n,i)}),o}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",v="executing",h="completed",p={};function m(){}function g(){}function y(){}var _={};u(_,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(j([])));w&&w!==n&&A.call(w,o)&&(_=w);var x=y.prototype=m.prototype=Object.create(_);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(r,a,o,i){var c=s(e[r],e,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==z(l)&&A.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,i)}))}i(c.arg)}var a;r(this,"_invoke",{value:function(e,A){function r(){return new t((function(t,r){n(e,A,t,r)}))}return a=a?a.then(r,r):r()}})}function D(t,n,A){var r=d;return function(a,o){if(r===v)throw Error("Generator is already running");if(r===h){if("throw"===a)throw o;return{value:e,done:!0}}for(A.method=a,A.arg=o;;){var i=A.delegate;if(i){var c=k(i,A);if(c){if(c===p)continue;return c}}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if(r===d)throw r=h,A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);r=v;var u=s(t,n,A);if("normal"===u.type){if(r=A.done?h:f,u.arg===p)continue;return{value:u.arg,done:A.done}}"throw"===u.type&&(r=h,A.method="throw",A.arg=u.arg)}}}function k(t,n){var A=n.method,r=t.iterator[A];if(r===e)return n.delegate=null,"throw"===A&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==A&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+A+"' method")),p;var a=s(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(A.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(z(t)+" is not iterable")}return g.prototype=y,r(x,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},P(I.prototype),u(I.prototype,i,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,A,r,a){void 0===a&&(a=Promise);var o=new I(l(e,n,A,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(x),u(x,c,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var A in t)n.push(A);return n.reverse(),function e(){for(;n.length;){var A=n.pop();if(A in t)return e.value=A,e.done=!1,e}return e.done=!0,e}},t.values=j,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&A.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(A,r){return i.type="throw",i.arg=t,n.next=A,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=A.call(o,"catchLoc"),u=A.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&A.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var A=n.completion;if("throw"===A.type){var r=A.arg;E(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,A){return this.delegate={iterator:j(t),resultName:n,nextLoc:A},"next"===this.method&&(this.arg=e),p}},t}function T(e,t,n,A,r,a,o){try{var i=e[a](o),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(A,r)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(A,r){var a=e.apply(t,n);function o(e){T(a,A,r,o,i,"next",e)}function i(e){T(a,A,r,o,i,"throw",e)}o(void 0)}))}}var M,B,R=function(e){return new Promise((function(t,n){var A=new FileReader;A.onload=function(){var e=new Image;e.src=A.result,e.onload=function(){t(e)},e.onerror=function(e){n(e)}},A.onerror=function(e){n(e)},A.readAsDataURL(e)}))},N=function(){var e=O(L().mark((function e(t,n){var A,r=arguments;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=r.length>2&&void 0!==r[2]?r[2]:"操作失败! ",e.prev=1,e.next=4,n(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),alert(A+e.t0.message),console.error(A,e.t0.message,e.t0.stack);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),H=[{id:"innerFileInput",event:"change",callback:(B=O(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.t0=w.mirage,e.next=4,R(n);case 4:e.t1=e.sent,e.t0.updateInnerImg.call(e.t0,e.t1),t.target.value="";case 7:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)}),errorMsg:"里图加载失败! "},{id:"coverFileInput",event:"change",callback:(M=O(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.t0=w.mirage,e.next=4,R(n);case 4:e.t1=e.sent,e.t0.updateCoverImg.call(e.t0,e.t1),t.target.value="";case 7:case"end":return e.stop()}}),e)}))),function(e){return M.apply(this,arguments)}),errorMsg:"表图加载失败! "},{id:"innerCanvas",event:"click",callback:function(){document.getElementById("innerFileInput").click()},errorMsg:"里图加载失败! "},{id:"coverCanvas",event:"click",callback:function(){document.getElementById("coverFileInput").click()},errorMsg:"表图加载失败! "},{id:"innerScaleRange",event:"input",callback:function(e){b.innerScaleInput.value=e.target.value,w.mirage.updateInnerScale(parseFloat(e.target.value))}},{id:"innerScaleInput",event:"input",callback:function(e){clearTimeout(b.innerScaleTimeout),b.innerScaleTimeout=setTimeout((function(){var t=parseFloat(e.target.value);isNaN(t)||(t=Math.min(Math.max(t,0),1),b.innerScaleSlider.value=t,b.innerScaleInput.value=t,w.mirage.updateInnerScale(t))}),500)}},{id:"coverScaleRange",event:"input",callback:function(e){b.coverScaleInput.value=e.target.value,w.mirage.updateCoverScale(parseFloat(e.target.value))}},{id:"coverScaleInput",event:"input",callback:function(e){clearTimeout(b.coverScaleTimeout),b.coverScaleTimeout=setTimeout((function(){var t=parseFloat(e.target.value);isNaN(t)||(t=Math.min(Math.max(t,0),1),b.coverScaleSlider.value=t,b.coverScaleInput.value=t,w.mirage.updateCoverScale(t))}),500)}},{id:"innerWeightRange",event:"input",callback:function(e){b.innerWeightInput.value=e.target.value,w.mirage.updateInnerWeight(parseFloat(e.target.value))}},{id:"innerWeightInput",event:"input",callback:function(e){clearTimeout(b.innerWeightTimeout),b.innerWeightTimeout=setTimeout((function(){var t=parseFloat(e.target.value);isNaN(t)||(t=Math.min(Math.max(t,0),1),b.innerWeightSlider.value=t,b.innerWeightInput.value=t,w.mirage.updateInnerWeight(t))}),500)}},{id:"innerDesatRange",event:"input",callback:function(e){b.innerDesatInput.value=e.target.value,w.mirage.updateInnerDesat(parseFloat(e.target.value))}},{id:"innerDesatInput",event:"input",callback:function(e){clearTimeout(b.innerDesatTimeout),b.innerDesatTimeout=setTimeout((function(){var t=parseFloat(e.target.value);isNaN(t)||(t=Math.min(Math.max(t,0),1),b.innerDesatSlider.value=t,b.innerDesatInput.value=t,w.mirage.updateInnerDesat(t))}),500)}},{id:"coverDesatRange",event:"input",callback:function(e){b.coverDesatInput.value=e.target.value,w.mirage.updateCoverDesat(parseFloat(e.target.value))}},{id:"coverDesatInput",event:"input",callback:function(e){clearTimeout(b.coverDesatTimeout),b.coverDesatTimeout=setTimeout((function(){var t=parseFloat(e.target.value);isNaN(t)||(t=Math.min(Math.max(t,0),1),b.coverDesatSlider.value=t,b.coverDesatInput.value=t,w.mirage.updateCoverDesat(t))}),500)}},{id:"isColoredCheckbox",event:"change",callback:function(e){w.mirage.updateColorMode(e.target.checked)}},{id:"maxSizeInput",event:"input",callback:function(e){clearTimeout(b.maxSizeTimeout),b.maxSizeTimeout=setTimeout((function(){var t=parseInt(e.target.value);t=Math.min(Math.max(t,0),4096),e.target.value=t,w.mirage.updateMaxSize(t)}),500)}},{id:"saveButton",event:"click",callback:function(){w.mirage.saveResult()},errorMsg:"保存失败! "},{id:"swapButton",event:"click",callback:function(){w.mirage.swapImg()}},{id:"downloadHtmlLink",event:"click",callback:function(){var e=document.documentElement.outerHTML,t=(new DOMParser).parseFromString(e,"text/html"),n=t.getElementById("content"),A=document.implementation.createHTMLDocument("Filtered Document");A.head.innerHTML=t.head.innerHTML,t.body.classList.forEach((function(e){return A.body.classList.add(e)})),A.body.appendChild(A.importNode(n,!0));var r=document.createElement("a");r.download="mirage.html",r.href=URL.createObjectURL(new Blob([A.documentElement.outerHTML],{type:"text/html"})),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)},errorMsg:"下载失败! "}];function F(e,t,n){if(W())return Reflect.construct.apply(null,arguments);var A=[null];A.push.apply(A,t);var r=new(e.bind.apply(e,A));return n&&G(r,n.prototype),r}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}var X=navigator.userAgent;b.isOnPhone=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(X),b.isDownloadNotSupported=b.isOnPhone&&/xiaomi|miui|quark|ucbrowser/i.test(X),b.isOnTiebaBrowser=/tieba/i.test(X);var U=function(e){void 0!==e&&"string"==typeof e||(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.setAttribute("data-theme",e),document.getElementById("isDarkmodeCheckbox").checked="dark"===e};document.addEventListener("DOMContentLoaded",(function(){U(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",U),document.getElementById("isDarkmodeCheckbox").addEventListener("change",(function(e){var t=e.target.checked?"dark":"light";U(t)})),b.isOnTiebaBrowser&&alert("建议点击右上角使用正常浏览器打开本页面。"),b.isDownloadNotSupported&&alert("由于浏览器限制，图片保存功能可能出现异常，建议使用其他浏览器或等待后续更新适配。");var e=document.createElement("link");e.rel="shortcut icon",e.href="data:image/vnd.microsoft.icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAAAAAAMQOAADEDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFBhMVFhlCLCsvZzc1OHU+Oz5/KCgrYAoLDSUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANa5rv/ClYn/sHVl/6RiUP+bWET/nlVC/59VRP+fW0j/r3Ji/86jlf8DBAYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACUdIl+0ZUz/qGVV/7uMfv/JrKP/2sjD/9/Oyf/fz8n/28vF/9bEvP/JrKP/tYR2/7RgR/8iGh9eAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQGCBTKk37/08zM//b//////////Pn1//fs5f/25dz/9uPa//bh2f/14Nf/9uTb//fp4P/9/vr///////n////FsKftAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcISVW36WW//y3oP/znYT/8puC//OgiP/zo4z/9KWO//Olj//0po//86WP//Slj//0pY7/9KSO//Sgif/ynIP/8ZqB//GhiP//6dH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgYIGfeTdv/zoYf/8qiR//K0oP/1wrH/9cy///fTxf/12Mz/9dzS//Tf1f/24df/9uPa//Xi2f/34df/9eDW//jb1P/z0cb/9sa2/++ynf//tpP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQECBQAAAAD///n/+f////r////5//z/+Pr3//f59f/4+vb/+P36//n+/P/5//3/+f/+//n//v/5////+f////n//v/4/vv/+Pz5//j69v/3+PX/+fr3//f////n4NrvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA19/h6vf8+v/15d//9tjN//XSxv/0yrv/8sCv//S0pP/xq5j/8qiS//GmkP/xo4z/8aSM//Gii//yoor/8aSO//Kqk//yrpr/8bWj//TBrv/108f/9OLa//z++v9HUE9nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgr9rZH/9J6G//OmkP/zp5H/86eR//Onkf/zpo//86SN//Ohiv/zoYn/86CI//OgiP/zoYn/86GK//Kiiv/zoor/86SN//Olj//zppH/86eR//Sokf/zp5H/8Z+G//+tk/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA55h+9/GijP/ysp//9MOx//XRxP/12s7/9uHZ//jn3//37uf/+Pbx//f38v/5+Pb/9/n2//n39P/59vH/+PXx//jz8P/37uf/9ung//fi2v/23dP/9NfN//bMv//xuKb/7p6H/9CKdN4AAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQT/////+P////j79//4+PT/+Pfz//j38//49/P/+Pj0//j49P/4+fX/+Pn1//n69v/5+vb/+fn3//j59v/4+ff/+fn3//n69//4+fb/+fn2//f59f/4+PT/+Pj0//j59v/6/////////wEBAQUAAAAAAAAAAAAAAAAAAAAAx9HT4Pbx7P/26uT/9uDW//fazf/21sn/9dLF//TMvf/yxLX/9MGx//O8rf/yuar/8Lil//O2pP/yt6P/9Lil//S4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",document.head.appendChild(e),b.defaultArguments=x,b.version=b.defaultArguments.app_version,console.log("target version:",b.version),console.log("local version:",localStorage.getItem("version"));var t=localStorage.getItem("version");t&&t===b.version||(console.log("new version detected, clearing cache"),localStorage.clear(),localStorage.setItem("version",b.version),location.reload(!0));var n=document.getElementById("versionInfo");n&&(n.innerHTML="version: <b>".concat(b.version,"</b>"));var A=[document.getElementById("innerCanvas"),document.getElementById("coverCanvas"),document.getElementById("outputCanvas"),document.getElementById("whiteCanvas"),document.getElementById("blackCanvas")];w.mirage=F(j,[b.defaultArguments].concat(A)),function(){try{b.innerScaleSlider=document.getElementById("innerScaleRange"),b.innerScaleInput=document.getElementById("innerScaleInput"),b.coverScaleSlider=document.getElementById("coverScaleRange"),b.coverScaleInput=document.getElementById("coverScaleInput"),b.innerWeightSlider=document.getElementById("innerWeightRange"),b.innerWeightInput=document.getElementById("innerWeightInput"),b.innerDesatSlider=document.getElementById("innerDesatRange"),b.innerDesatInput=document.getElementById("innerDesatInput"),b.coverDesatSlider=document.getElementById("coverDesatRange"),b.coverDesatInput=document.getElementById("coverDesatInput"),H.forEach((function(e){document.getElementById(e.id).addEventListener(e.event,(function(t){N(t,e.callback,e.errorMsg||"操作失败! ")}))})),b.isOnPhone?(document.getElementById("innerInputHint").remove(),document.getElementById("coverInputHint").remove()):(b.mouseX=0,window.addEventListener("mousemove",(function(e){b.mouseX=e.clientX})),window.addEventListener("dragover",(function(e){e.preventDefault()})),document.addEventListener("paste",(function(e){N(e,function(){var e=O(L().mark((function e(t){var n,A,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.clipboardData.items,A=0;case 2:if(!(A<n.length)){e.next=22;break}if(-1===n[A].type.indexOf("image")){e.next=19;break}if(r=n[A].getAsFile(),!(b.mouseX>window.innerWidth/2)){e.next=13;break}return e.t0=w.mirage,e.next=9,R(r);case 9:e.t1=e.sent,e.t0.updateCoverImg.call(e.t0,e.t1),e.next=18;break;case 13:return e.t2=w.mirage,e.next=16,R(r);case 16:e.t3=e.sent,e.t2.updateInnerImg.call(e.t2,e.t3);case 18:return e.abrupt("break",22);case 19:A++,e.next=2;break;case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"加载失败! ")})),document.getElementById("innerCanvas").addEventListener("drop",(function(e){e.preventDefault(),N(e,function(){var e=O(L().mark((function e(t){var n,A,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dataTransfer.items,A=0;case 2:if(!(A<n.length)){e.next=14;break}if("file"!==n[A].kind||-1===n[A].type.indexOf("image")){e.next=11;break}return r=n[A].getAsFile(),e.t0=w.mirage,e.next=8,R(r);case 8:return e.t1=e.sent,e.t0.updateInnerImg.call(e.t0,e.t1),e.abrupt("break",14);case 11:A++,e.next=2;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),document.getElementById("coverCanvas").addEventListener("drop",(function(e){e.preventDefault(),N(e,function(){var e=O(L().mark((function e(t){var n,A,r;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.dataTransfer.items,A=0;case 2:if(!(A<n.length)){e.next=14;break}if("file"!==n[A].kind||-1===n[A].type.indexOf("image")){e.next=11;break}return r=n[A].getAsFile(),e.t0=w.mirage,e.next=8,R(r);case 8:return e.t1=e.sent,e.t0.updateCoverImg.call(e.t0,e.t1),e.abrupt("break",14);case 11:A++,e.next=2;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))),document.getElementById("toggleVersionRecord").addEventListener("click",(function(e){var t=document.getElementById("versionRecordTable");"none"===window.getComputedStyle(t).display?(t.classList.remove("displayNone"),t.classList.add("displayBlock"),e.target.textContent="隐藏主要更新记录",window.scrollTo(0,document.body.scrollHeight)):(t.classList.remove("displayBlock"),t.classList.add("displayNone"),e.target.textContent="显示主要更新记录")}))}catch(e){alert("监听器设置失败! "+e.message),console.error("监听器设置失败!",e.message,e.stack)}}()}))})();</script><style>.switchContainer {
    display: flex;
    align-items: center;
    cursor: pointer;
}

.switch {
    position: relative;
    display: inline-block;
    width: 40px;
    height: 22px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.switchSlider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 22px;
}

.switchSlider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

input:checked+.switchSlider {
    background-color: #002a6e;
}

input:checked+.switchSlider:before {
    transform: translateX(100%);
}</style><style>:root {
    --secondary-background-color: #fff;
    --background-color: #ececec;
    --secondary-notselected-background-color: #f6f6f6;
    --element-backgound-color: #f6f6f6;
    --front-color: #000;
    --front-secondary-color: #666;
    --element-border-color: #b8b8b8;
    --link-color: #2285d5;

    --large-font-size: 1.2rem;
    --medium-font-size: 0.9rem;
    --small-font-size: 0.7rem;
}

[data-theme="light"] {
    --secondary-background-color: #fff;
    --background-color: #ececec;
    --secondary-notselected-background-color: #f6f6f6;
    --element-backgound-color: #eaeaea;
    --front-color: #000;
    --front-secondary-color: #666;
    --element-border-color: #b8b8b8;
    --link-color: #2285d5;
}

[data-theme="dark"] {
    --secondary-background-color: #000;
    --background-color: #191919;
    --secondary-notselected-background-color: #101010;
    --element-backgound-color: #444;
    --front-color: #dfdfdf;
    --front-secondary-color: #999;
    --element-border-color: #555;
    --link-color: #4baeff;
}

/**************************************/

* {
    transition: background-color 0.3s ease-in-out, color 0.1s ease-in-out;
    user-select: none;
    box-sizing: content-box;
}

.inputReact {
    background-color: var(--element-backgound-color);
    color: var(--front-color);
    padding: 5px;
    border: 1px solid var(--element-border-color);
    border-radius: 5px;
    font-size: var(--medium-font-size);
}

input[type=file] {
    display: none;
}

input[type=number] {
    width: 50px;
}

Canvas {
    border: 1px solid var(--element-border-color);
}

hr {
    border: 0;
    border-top: 1px solid var(--element-border-color);
}

/**************************************/

.displayFlexColumn {
    display: flex;
    flex-direction: column;
    justify-items: center;
    align-items: center;
}

.displayFlexRow {
    display: flex;
    flex-direction: row;
    justify-items: center;
    align-items: center;
}

/**************************************/

.marginTopHigh {
    margin-top: 20px;
}

.marginTopMedium {
    margin-top: 10px;
}

.marginTopLow {
    margin-top: 5px;
}

.marginLeftLow {
    margin-left: 5px;
}

.marginRightLow {
    margin-right: 5px;
}

.marginBottomMedium {
    margin-bottom: 10px;
}

.marginBottomHigh {
    margin-bottom: 20px;
}

.marginBottomExtreme {
    margin-bottom: 40px;
}

/**************************************/

.justifyCenter {
    justify-content: center;
}

.justifySpaceBetween {
    justify-content: space-between;
}

.gapLow {
    gap: 5px;
}

.alignCenter {
    align-items: center;
}

.flexColumn {
    flex-direction: column;
}

.flexRow {
    flex-direction: row;
}

.positionRelative {
    position: relative;
}

.textAlignCenter {
    text-align: center;
}

/**************************************/

.paddingLow {
    padding: 5px;
}

.paddingMedium {
    padding: 10px;
}

.paddingHigh {
    padding: 15px;
}

.displayNone {
    display: none;
}

.displayBlock {
    display: block;
}

.displayFlex {
    display: flex;
}

.fontLarge {
    font-size: var(--large-font-size);
}

.fontMedium {
    font-size: var(--medium-font-size);
}

.fontSmall {
    font-size: var(--small-font-size);
}

.textDecorationNone {
    text-decoration: none;
}

.textDecorationUnderline {
    text-decoration: underline;
}

.borderNone {
    border: none;
}

.borderRadiusLow {
    border-radius: 5px;
}

.borderRadiusHigh {
    border-radius: 10px;
}

.borderRadiusExtreme {
    border-radius: 20px;
}

.borderRadiusOnlyTop {
    border-radius: 10px 10px 0 0;
}

.borderRadiusOnlyBottom {
    border-radius: 0 0 15px 15px;
}

.borderSolidNone {
    border: 0px, solid;
}

.borderCollapse {
    border-collapse: collapse;
}

.frontColor {
    color: var(--front-color);
}

.frontSecondaryColor {
    color: var(--front-secondary-color);
}

.frontLinkColor {
    color: var(--link-color);
}

.backgroundSecondary {
    background-color: var(--secondary-background-color);
}

.backgroundNotSelected {
    background-color: var(--secondary-notselected-background-color);
}

.backgroundElement {
    background-color: var(--element-backgound-color);
}

.backgroundPrimary {
    background-color: var(--background-color);
}

/**************************************/

.transformNone {
    transform: none;
}

.transformSize:hover {
    transform: scale(1.05);
    transition: transform 0.2s;
}

.transformSecondary:hover {
    transform: none;
    background-color: var(--secondary-background-color);
}

/**************************************/

.refWidthHigh {
    width: 90%;
}

.refWidthFull {
    width: 100%;
}

.refWidthHalf {
    width: 50%;
}</style><style>#isDarkmodeContainer {
    position: fixed;
    left: 10px;
    bottom: 10px;
    border: 1px solid var(--element-border-color);
    box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.1);
    border-radius: 40px;
}

.DisplayArea {
    max-width: 1000px;
    min-width: 300px;
}

.title {
    font-size: clamp(30px, 5vw, 50px);
    margin-bottom: 10px;
}

.subTitle {
    font-size: clamp(20px, 3vw, 30px);
    margin-top: auto;
    margin-bottom: 12px;
}

.RowContainer {
    width: min(100%, 750px);
}

#versionRecordTable {
    max-width: min(100%, 600px);
}

#versionRecordTable td {
    padding: 10px;
}</style><link rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAAAAAAMQOAADEDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFBhMVFhlCLCsvZzc1OHU+Oz5/KCgrYAoLDSUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANa5rv/ClYn/sHVl/6RiUP+bWET/nlVC/59VRP+fW0j/r3Ji/86jlf8DBAYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACUdIl+0ZUz/qGVV/7uMfv/JrKP/2sjD/9/Oyf/fz8n/28vF/9bEvP/JrKP/tYR2/7RgR/8iGh9eAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQGCBTKk37/08zM//b//////////Pn1//fs5f/25dz/9uPa//bh2f/14Nf/9uTb//fp4P/9/vr///////n////FsKftAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcISVW36WW//y3oP/znYT/8puC//OgiP/zo4z/9KWO//Olj//0po//86WP//Slj//0pY7/9KSO//Sgif/ynIP/8ZqB//GhiP//6dH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgYIGfeTdv/zoYf/8qiR//K0oP/1wrH/9cy///fTxf/12Mz/9dzS//Tf1f/24df/9uPa//Xi2f/34df/9eDW//jb1P/z0cb/9sa2/++ynf//tpP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQECBQAAAAD///n/+f////r////5//z/+Pr3//f59f/4+vb/+P36//n+/P/5//3/+f/+//n//v/5////+f////n//v/4/vv/+Pz5//j69v/3+PX/+fr3//f////n4NrvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA19/h6vf8+v/15d//9tjN//XSxv/0yrv/8sCv//S0pP/xq5j/8qiS//GmkP/xo4z/8aSM//Gii//yoor/8aSO//Kqk//yrpr/8bWj//TBrv/108f/9OLa//z++v9HUE9nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgr9rZH/9J6G//OmkP/zp5H/86eR//Onkf/zpo//86SN//Ohiv/zoYn/86CI//OgiP/zoYn/86GK//Kiiv/zoor/86SN//Olj//zppH/86eR//Sokf/zp5H/8Z+G//+tk/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA55h+9/GijP/ysp//9MOx//XRxP/12s7/9uHZ//jn3//37uf/+Pbx//f38v/5+Pb/9/n2//n39P/59vH/+PXx//jz8P/37uf/9ung//fi2v/23dP/9NfN//bMv//xuKb/7p6H/9CKdN4AAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQT/////+P////j79//4+PT/+Pfz//j38//49/P/+Pj0//j49P/4+fX/+Pn1//n69v/5+vb/+fn3//j59v/4+ff/+fn3//n69//4+fb/+fn2//f59f/4+PT/+Pj0//j59v/6/////////wEBAQUAAAAAAAAAAAAAAAAAAAAAx9HT4Pbx7P/26uT/9uDW//fazf/21sn/9dLF//TMvf/yxLX/9MGx//O8rf/yuar/8Lil//O2pP/yt6P/9Lil//S4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"></head><body class="backgroundPrimary"><div id="content" class="displayFlexColumn marginTopHigh backgroundPrimary frontColor"><h1 class="title marginBottomMedium">幻影坦克工厂</h1><div class="fontMedium frontSecondaryColor marginTopMedium">五维控制，全彩输出！;D</div><div class="displayFlexRow fontMedium marginTopMedium frontSecondaryColor"><div id="downloadHtmlLink" class="textDecorationUnderline frontLinkColor transformSize">下载当前页面</div><div class="frontSecondaryColor fontSmall marginLeftLow">(可在任意支持html5的浏览器中使用)</div></div><div class="switchContainer displayFlexRow paddingHigh backgroundSecondary" id="isDarkmodeContainer"><div id="isDarkModeLabel" class="marginRightLow fontMedium">关灯</div><label class="switch"><input type="checkbox" id="isDarkmodeCheckbox"> <span class="switchSlider"></span></label></div><div class="DisplayArea displayFlexColumn refWidthFull marginTopHigh"><div class="PageContainer borderRadiusExtreme fontMedium frontColor displayFlexColumn refWidthHigh backgroundSecondary paddingHigh"><div class="RowContainer refWidthHigh displayFlexRow justifySpaceBetween marginTopHigh"><div class="CanvasContainer displayFlexColumn paddingMedium refWidthHalf"><div class="marginBottomMedium"><label for="innerFileInput" class="inputReact transformSize">选择里图文件</label> <input type="file" id="innerFileInput" accept="image/*"></div><canvas id="innerCanvas" class="refWidthFull marginTopMedium"></canvas></div><div class="CanvasContainer displayFlexColumn paddingMedium refWidthHalf"><div class="marginBottomMedium"><label for="coverFileInput" class="inputReact transformSize">选择表图文件</label> <input type="file" id="coverFileInput" accept="image/*"></div><canvas id="coverCanvas" class="refWidthFull marginTopMedium"></canvas></div></div><div class="RowContainer refWidthHigh displayFlexRow justifySpaceBetween marginTopHigh"><div class="CanvasContainer displayFlexColumn paddingMedium refWidthHalf"><div class="switchContainer"><div class="marginRightLow fontMedium">全彩输出</div><label class="switch"><input type="checkbox" id="isColoredCheckbox"> <span class="switchSlider"></span></label></div><hr class="refWidthHigh marginTopMedium marginBottomMedium"><button id="swapButton" class="inputReact transformSize">表里图互换</button><hr class="refWidthHigh marginTopMedium marginBottomMedium"><div class="">输出图像尺寸:</div><input type="number" id="maxSizeInput" class="inputReact marginTopLow" min="1" max="4096"><div class="marginTopLow fontSmall frontSecondaryColor">(指长和宽中的较大值)</div><div class="fontSmall frontSecondaryColor">(0即为不指定)</div><hr class="refWidthHigh marginTopMedium marginBottomMedium"><div class="">里图混合权重</div><input type="range" id="innerWeightRange" class="refWidthHigh marginTopLow" min="0" max="1" step="0.02"><div class="marginTopLow"><span>或输入: </span><input type="number" id="innerWeightInput" class="inputReact" step="0.02"></div><div class="marginTopLow fontSmall frontSecondaryColor">(0~1,黑白输出时无效)<br>(越高里图色彩越准确)<br>(反之表图色彩越准确)</div></div><div class="CanvasContainer displayFlexColumn paddingMedium refWidthHalf"><div class="">↓ 输出图像 ↓</div><canvas id="outputCanvas" class="refWidthFull marginTopMedium"></canvas><button id="saveButton" class="inputReact transformSize marginTopHigh">保存结果</button></div></div><div class="RowContainer refWidthHigh displayFlexRow justifySpaceBetween marginTopHigh marginBottomHigh"><div class="CanvasContainer displayFlexColumn paddingMedium refWidthHalf"><div class="marginTopMedium">↓ 黑色背景预览 ↓</div><canvas id="blackCanvas" class="refWidthFull marginTopMedium"></canvas><div class="marginTopMedium">里图色阶缩放</div><input type="range" id="innerScaleRange" class="refWidthHigh marginTopLow" min="0" max="1" step="0.02"><div class="marginTopLow"><span>或输入: </span><input type="number" id="innerScaleInput" class="inputReact" step="0.02"></div><div class="marginTopLow diplayFlexColumn fontSmall frontSecondaryColor">(0~1,越低里图越暗)</div><hr class="refWidthHigh marginTopMedium marginBottomMedium"><div class="">里图去色</div><input type="range" id="innerDesatRange" class="refWidthHigh marginTopLow" min="0" max="1" step="0.02"><div class="marginTopLow"><span>或输入: </span><input type="number" id="innerDesatInput" class="inputReact" step="0.02"></div><div class="marginTopLow diplayFlexColumn fontSmall frontSecondaryColor">(0~1,越高越趋近黑白)</div></div><div class="CanvasContainer displayFlexColumn paddingMedium refWidthHalf"><div class="marginTopMedium">↓ 白色背景预览 ↓</div><canvas id="whiteCanvas" class="refWidthFull marginTopMedium"></canvas><div class="marginTopMedium">表图色阶缩放</div><input type="range" id="coverScaleRange" class="refWidthHigh marginTopLow" min="0" max="1" step="0.02"><div class="marginTopLow"><span>或输入: </span><input type="number" id="coverScaleInput" class="inputReact" step="0.02"></div><div class="marginTopLow diplayFlexColumn fontSmall frontSecondaryColor">(0~1,越高表图越亮)</div><hr class="refWidthHigh marginTopMedium marginBottomMedium"><div class="">表图去色</div><input type="range" id="coverDesatRange" class="refWidthHigh marginTopLow" min="0" max="1" step="0.02"><div class="marginTopLow"><span>或输入: </span><input type="number" id="coverDesatInput" class="inputReact" step="0.02"></div><div class="marginTopLow diplayFlexColumn fontSmall frontSecondaryColor">(去色可减少表里色彩干扰)</div></div></div></div></div><div id="pageBelow" class="displayFlex frontColor justifyCenter alignCenter flexColumn marginTopHigh"><div id="versionInfo" class="fontLarge">version: <b>1.0.0</b></div><div class="marginTopLow fontSmall">如发现有功能不正常可手动清理浏览器缓存后刷新</div><div class="marginTopMedium fontSmall transformSize"><a class="frontLinkColor" href="https://github.com/Uyanide" target="_blank">Github - Uyanide (我)</a></div><div class="marginTopMedium fontSmall transformSize"><a class="frontLinkColor" href="https://github.com/Uyanide/Mirage_Colored" target="_blank">Github - Mirage_Colored (本项目仓库)</a></div><div id="toggleVersionRecord" class="frontLinkColor backgroundPrimary fontSmall transformSize marginTopMedium">显示主要更新记录</div><div id="versionRecord" class="marginTopMedium marginBottomMedium"><table id="versionRecordTable" class="fontSmall paddingHigh borderRadiusExtreme displayNone backgroundSecondary borderCollapse frontColor"><tbody><tr><td>1.0.0</td><td>初始版本。</td></tr></tbody></table></div></div></div></body></html>
